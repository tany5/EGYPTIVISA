<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<div
  class="bg-primary dark:bg-primary-dark w-full py-2 lg:px-16 sm:px-4 px-2 text-white shadow-xl top-0 left-0 z-[999999999] fixed"
>
  <div class="container mx-auto flex justify-between gap-x-4 items-center min-h-[40px]">
    <div class="flex gap-x-4">
      <button mat-icon-button (click)="toggleSideNav()" class="lg:hidden">
        <mat-icon>menu</mat-icon>
      </button>
      <a routerLink="/" class="text-2xl font-bold uppercase">
        <span>Egyptivisa</span>
      </a>
    </div>

    <div class="items-center justify-start gap-x-6 lg:flex hidden">
      <!-- menu 1-->
      <button
        mat-raised-button
        [matMenuTriggerFor]="menu1"
        class="flex items-center py-3 font-bold"
      >
        Get my visa
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
      <mat-menu #menu1="matMenu">
        @for (item of menuList1; track item) {
        <button
          class="flex items-center px-4 py-2 min-w-[120px] gap-x-2 hover:bg-slate-200 w-full"
        >
          <img [alt]="item.name" [ngSrc]="item.code" width="20" height="20" />
          <span class="!text-black dark:!text-white">{{ item.name }}</span>
        </button>
        }
      </mat-menu>
      <!-- Menu 1 -->

      <!-- Menu 2-->
      <button
        mat-raised-button
        [matMenuTriggerFor]="menu2"
        class="flex items-center py-3 font-bold"
      >
        Renew my passport
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
      <mat-menu #menu2="matMenu">
        @for (item of menuList1; track item) {
        <button
          class="flex items-center px-4 py-2 min-w-[120px] gap-x-2 hover:bg-slate-200 w-full"
        >
          <img [alt]="item.name" [ngSrc]="item.code" width="20" height="20" />
          <span class="!text-black dark:!text-white">{{ item.name }}</span>
        </button>
        }
      </mat-menu>
      <!-- Menu 2 -->

      <!-- Menu 3-->

      <button
        mat-raised-button
        [matMenuTriggerFor]="menu3"
        class="flex items-center py-3 font-bold"
      >
        Travel confidently
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
      <mat-menu #menu3="matMenu">
        @for (item of travelMenu; track item) { @if (item.submenu) {
        <button
          class="flex items-center px-4 py-2 min-w-[120px] gap-x-2 hover:bg-slate-200 w-full text-left"
          mat-menu-item
          [matMenuTriggerFor]="menu4"
        >
          <span class="!text-black dark:!text-white">{{ item.label }}</span>
        </button>
        <mat-menu #menu4="matMenu">
          @for (item of item.submenu; track item) {
          <button
            class="flex items-center px-4 py-2 min-w-[120px] gap-x-2 hover:bg-slate-200 w-full text-left"
            [routerLink]="item.url"
          >
            <span class="!text-black dark:!text-white">{{ item.label }}</span>
          </button>
          }
        </mat-menu>
        } @else {
        <button
          class="flex items-center px-4 py-2 min-w-[120px] gap-x-2 hover:bg-slate-200 w-full text-left"
          [routerLink]="item.url"
        >
          <span class="!text-black dark:!text-white">{{ item.label }}</span>
        </button>
        } }
      </mat-menu>
      <!-- Menu 3 -->
    </div>

    <div class="flex justify-end gap-x-4 items-center font-bold">
      <div
        class="cursor-pointer flex gap-x-2"
        (click)="openLanguageModal()"
        (keydown)="handleKeyDown($event)"
        (keyup)="handleKeyUp($event)"
      >
        <span>EN</span>
        <span>|</span>
        <span>â‚¹ INR</span>
      </div>
      <div class="lg:block hidden">
        <app-menu />
      </div>
      <button (click)="theme.darkMode.set(!theme.darkMode())">
        <mat-icon *ngIf="!theme.darkMode()">dark_mode</mat-icon>
        <mat-icon *ngIf="theme.darkMode()">light_mode</mat-icon>
      </button>
    </div>
  </div>
</div>
