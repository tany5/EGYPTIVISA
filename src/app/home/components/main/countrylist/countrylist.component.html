<section class="text-center">
  <div class="bg-primary dark:bg-primary-dark py-20 px-16 relative">
    <div class="container">
      <h3 class="mb-3 text-center !text-lg !font-semibold text-[#4EFF22]">
        99.2% visas on time
      </h3>
      <h2
        class="!text-xl !font-extrabold tracking-tight leading-none md:!text-2xl xl:!text-3xl text-white dark:text-white drop-shadow-2xl capitalize"
      >
        Get Your Visas on Time or On Us.
      </h2>
    </div>
    <div class="absolute -bottom-6 left-2/4 -translate-x-2/4 w-full max-w-md">
      <div class="flex relative">
        <mat-icon class="absolute top-2/4 -translate-y-2/4 left-3 text-primary dark:text-white">search</mat-icon>
        <input
          type="text"
          id="voice-search"
          class="bg-gray-50 border-4 border-primary text-gray-900 focus:ring-primary focus:border-blue-500 block w-full ps-3 p-4 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-black dark:focus:border-blue-500 rounded-xl text-base outline-none hover:outline-none focus:outline-none active:outline-none pl-12"
          placeholder="Search currency..."
          #input
          (input)="search(input.value)"
          required
        />
      </div>
    </div>
  </div>

  <div class="mt-6 flex justify-center text-sm font-medium md:mt-12">
    <div
      class="flex items-center gap-2 rounded-xl border bg-white p-1 shadow-sm"
    >
      <div class="flex items-center">
        <button
          class="rounded-md px-2.5 py-2.5 transition-all md:px-4 hover:bg-primary/10 text-black
          {{
            filterTerm() === 'all' &&
              'bg-primary dark:bg-primary-dark text-white'
          }}"
          (click)="filter('all')"
        >
          All</button
        ><button
          class="rounded-md px-2.5 py-2.5 transition-all md:px-4 hover:bg-primary/10 text-black
          {{
            filterTerm() === 'instant' &&
              'bg-primary dark:bg-primary-dark text-white'
          }}
          "
          (click)="filter('instant')"
        >
          Instant</button
        ><button
          class="rounded-md px-2.5 py-2.5 transition-all md:px-4 hover:bg-primary/10 text-black {{
            filterTerm() === 'week' &&
              'bg-primary dark:bg-primary-dark text-white'
          }}"
          (click)="filter('week')"
        >
          In a week</button
        ><button
          class="rounded-md px-2.5 py-2.5 transition-all md:px-4 hover:bg-primary/10 text-black {{
            filterTerm() === 'month' &&
              'bg-primary dark:bg-primary-dark text-white'
          }}"
          (click)="filter('month')"
        >
          In a month
        </button>
      </div>
    </div>
  </div>

  <div
    class="container mx-auto grid gap-6 sm:grid-cols-2 md:grid-cols-2 md:gap-6 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 my-8 lg:px-16 sm:px-4 px-2"
  >
    @for (country of filterCountryList(); track country) {
    <div
      class="font-basier group relative w-full grow cursor-pointer place-items-center overflow-hidden rounded-2xl rounded-t-brand border transition-all md:max-w-xl md:hover:shadow-lg"
    >
      <div class="relative overflow-hidden rounded-t-brand">
        <img
          [alt]="country.name"
          class="h-[300px] w-full rounded-t-brand object-cover md:h-[280px] md:transition-all md:ease-in-out 2xl:h-[270px]"
          [src]="country.hero_image.url"
        />
        <div
          class="absolute left-0 rounded-r-md bg-primary dark:bg-primary-dark px-2.5 py-2 text-sm bottom-4"
        >
          <div
            class="mr-2 flex w-fit items-center gap-2 font-medium text-white"
          >
            <span class="text-white"
              >{{ country.visas_done_in_k }}K+ Visas on Time</span
            >
          </div>
        </div>
      </div>
      <div class="mt-2 flex flex-col px-2.5 pt-2">
        <div class="flex flex-row items-center justify-between">
          <h3 class="!text-lg !font-semibold text-black dark:text-white">
            {{ country.name }}
          </h3>
          <span
            class="text-center text-base font-medium text-black dark:text-white"
            >₹ {{ country.price }}</span
          >
        </div>
        <div class="flex items-center justify-between">
          <div class="flex flex-1 flex-col">
            <div class="flex flex-wrap items-center gap-2">
              <p>
                Get on
                <span class="!font-bold text-primary">{{
                  country.eta | date : "MMM d, h:mm a"
                }}</span>
              </p>
            </div>
            <p class="mt-1 flex items-center gap-1 text-sm font-medium">
              <span>25 direct flights from ₹32k</span>
            </p>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
</section>
